{"ast":null,"code":"var _jsxFileName = \"/Users/daria-briannareabciuc/Desktop/plant-monitor/plant-monitor/src/pages/Profile.jsx\",\n  _s = $RefreshSig$();\n// src/pages/Profile.jsx\nimport React, { useContext, useState, useRef } from 'react';\nimport { AuthContext } from '../contexts/AuthContext';\nimport { User } from 'lucide-react';\nimport './Profile.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Profile() {\n  _s();\n  const {\n    user,\n    updateEmail,\n    updateProfilePicture,\n    updatePassword\n  } = useContext(AuthContext);\n  const [email, setEmail] = useState(user.email || '');\n  const [oldPass, setOldPass] = useState('');\n  const [newPass, setNewPass] = useState('');\n  const [confirmPass, setConfirm] = useState('');\n  const fileInputRef = useRef();\n\n  // 1. Change Email\n  const handleEmailSubmit = e => {\n    e.preventDefault();\n    updateEmail(email);\n    alert('Email updated');\n  };\n\n  // 2. Change Profile Picture\n  const handlePicChange = e => {\n    const file = e.target.files[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = () => {\n      updateProfilePicture(reader.result);\n      alert('Profile picture updated');\n    };\n    reader.readAsDataURL(file);\n  };\n\n  // 3. Change Password\n  const handlePasswordSubmit = e => {\n    e.preventDefault();\n    if (newPass !== confirmPass) {\n      alert(\"Passwords don't match\");\n      return;\n    }\n    updatePassword(oldPass, newPass);\n    setOldPass('');\n    setNewPass('');\n    setConfirm('');\n    alert('Password change requested');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"My Profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-picture-section\",\n      onClick: () => fileInputRef.current.click(),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-picture-wrapper\",\n        children: user.profilePicture ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: user.profilePicture,\n          alt: \"Profile\",\n          className: \"profile-picture\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(User, {\n          className: \"profile-placeholder-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \"image/*\",\n        ref: fileInputRef,\n        onChange: handlePicChange,\n        style: {\n          display: 'none'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Click on the image to change\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"profile-form\",\n      onSubmit: handleEmailSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Change Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"profile-btn\",\n        children: \"Update Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"profile-form\",\n      onSubmit: handlePasswordSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Change Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Current Password\",\n        value: oldPass,\n        onChange: e => setOldPass(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"New Password\",\n        value: newPass,\n        onChange: e => setNewPass(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Confirm New Password\",\n        value: confirmPass,\n        onChange: e => setConfirm(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"profile-btn\",\n        children: \"Update Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n_s(Profile, \"6NDss5/BqEuH9wkJ2/smndmFmOk=\");\n_c = Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useContext","useState","useRef","AuthContext","User","jsxDEV","_jsxDEV","Profile","_s","user","updateEmail","updateProfilePicture","updatePassword","email","setEmail","oldPass","setOldPass","newPass","setNewPass","confirmPass","setConfirm","fileInputRef","handleEmailSubmit","e","preventDefault","alert","handlePicChange","file","target","files","reader","FileReader","onload","result","readAsDataURL","handlePasswordSubmit","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","current","click","profilePicture","src","alt","type","accept","ref","onChange","style","display","onSubmit","value","required","placeholder","_c","$RefreshReg$"],"sources":["/Users/daria-briannareabciuc/Desktop/plant-monitor/plant-monitor/src/pages/Profile.jsx"],"sourcesContent":["// src/pages/Profile.jsx\nimport React, { useContext, useState, useRef } from 'react';\nimport { AuthContext } from '../contexts/AuthContext';\nimport { User } from 'lucide-react';\nimport './Profile.css';\n\nexport default function Profile() {\n  const {\n    user,\n    updateEmail,\n    updateProfilePicture,\n    updatePassword\n  } = useContext(AuthContext);\n\n  const [email, setEmail]         = useState(user.email || '');\n  const [oldPass, setOldPass]     = useState('');\n  const [newPass, setNewPass]     = useState('');\n  const [confirmPass, setConfirm] = useState('');\n  const fileInputRef = useRef();\n\n  // 1. Change Email\n  const handleEmailSubmit = e => {\n    e.preventDefault();\n    updateEmail(email);\n    alert('Email updated');\n  };\n\n  // 2. Change Profile Picture\n  const handlePicChange = e => {\n    const file = e.target.files[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = () => {\n      updateProfilePicture(reader.result);\n      alert('Profile picture updated');\n    };\n    reader.readAsDataURL(file);\n  };\n\n  // 3. Change Password\n  const handlePasswordSubmit = e => {\n    e.preventDefault();\n    if (newPass !== confirmPass) {\n      alert(\"Passwords don't match\");\n      return;\n    }\n    updatePassword(oldPass, newPass);\n    setOldPass('');\n    setNewPass('');\n    setConfirm('');\n    alert('Password change requested');\n  };\n\n  return (\n    <div className=\"profile-page\">\n      <h2>My Profile</h2>\n\n      {/* Profile Picture */}\n      <div\n        className=\"profile-picture-section\"\n        onClick={() => fileInputRef.current.click()}\n      >\n        <div className=\"profile-picture-wrapper\">\n          {user.profilePicture ? (\n            <img\n              src={user.profilePicture}\n              alt=\"Profile\"\n              className=\"profile-picture\"\n            />\n          ) : (\n            <User className=\"profile-placeholder-icon\" />\n          )}\n        </div>\n        <input\n          type=\"file\"\n          accept=\"image/*\"\n          ref={fileInputRef}\n          onChange={handlePicChange}\n          style={{ display: 'none' }}\n        />\n        <p>Click on the image to change</p>\n      </div>\n\n      {/* Change Email */}\n      <form className=\"profile-form\" onSubmit={handleEmailSubmit}>\n        <h3>Change Email</h3>\n        <input\n          type=\"email\"\n          value={email}\n          onChange={e => setEmail(e.target.value)}\n          required\n        />\n        <button type=\"submit\" className=\"profile-btn\">\n          Update Email\n        </button>\n      </form>\n\n      {/* Change Password */}\n      <form className=\"profile-form\" onSubmit={handlePasswordSubmit}>\n        <h3>Change Password</h3>\n        <input\n          type=\"password\"\n          placeholder=\"Current Password\"\n          value={oldPass}\n          onChange={e => setOldPass(e.target.value)}\n          required\n        />\n        <input\n          type=\"password\"\n          placeholder=\"New Password\"\n          value={newPass}\n          onChange={e => setNewPass(e.target.value)}\n          required\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Confirm New Password\"\n          value={confirmPass}\n          onChange={e => setConfirm(e.target.value)}\n          required\n        />\n        <button type=\"submit\" className=\"profile-btn\">\n          Update Password\n        </button>\n      </form>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}